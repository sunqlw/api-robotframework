<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.1 (Python 3.7.4 on win32)" generated="20200813 17:13:45.515" rpa="false">
<suite id="s1" name="Datahub4.0.8" source="D:\sqlw_test\robotframework\datahub4.0.8">
<suite id="s1-s1" name="测试用例" source="D:\sqlw_test\robotframework\datahub4.0.8\测试用例">
<suite id="s1-s1-s1" name="01-登录" source="D:\sqlw_test\robotframework\datahub4.0.8\测试用例\01-登录.robot">
<test id="s1-s1-s1-t1" name="001-登录">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>http=http://127.0.0.1:8888</arg>
</arguments>
<assign>
<var>${proxies}</var>
</assign>
<msg timestamp="20200813 17:13:45.972" level="INFO">${proxies} = {'http': 'http://127.0.0.1:8888'}</msg>
<status status="PASS" starttime="20200813 17:13:45.972" endtime="20200813 17:13:45.972"></status>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<doc>Create Session: create a HTTP session to a server</doc>
<arguments>
<arg>api</arg>
<arg>http://demo202.test.com:8070</arg>
<arg>proxies=${proxies}</arg>
</arguments>
<msg timestamp="20200813 17:13:45.974" level="INFO">Creating Session using : alias=api, url=http://demo202.test.com:8070, headers={},                     cookies={}, auth=None, timeout=None, proxies={'http': 'http://127.0.0.1:8888'}, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20200813 17:13:45.973" endtime="20200813 17:13:45.975"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>/leapid-admin/api/v1/login</arg>
</arguments>
<assign>
<var>${test_uri}</var>
</assign>
<msg timestamp="20200813 17:13:45.977" level="INFO">${test_uri} = /leapid-admin/api/v1/login</msg>
<status status="PASS" starttime="20200813 17:13:45.976" endtime="20200813 17:13:45.977"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>un=datahub</arg>
<arg>pw=datahub123</arg>
</arguments>
<assign>
<var>&amp;{test_params}</var>
</assign>
<msg timestamp="20200813 17:13:45.979" level="INFO">&amp;{test_params} = { un=datahub | pw=datahub123 }</msg>
<status status="PASS" starttime="20200813 17:13:45.978" endtime="20200813 17:13:45.979"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded; charset=UTF-8</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200813 17:13:45.980" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'}</msg>
<status status="PASS" starttime="20200813 17:13:45.979" endtime="20200813 17:13:45.980"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>api</arg>
<arg>${test_uri}</arg>
<arg>data=${test_params}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${response}</var>
</assign>
<msg timestamp="20200813 17:13:46.371" level="INFO">POST Request : url=http://demo202.test.com:8070/leapid-admin/api/v1/login 
 path_url=/leapid-admin/api/v1/login 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Content-Length': '24'} 
 body=un=datahub&amp;pw=datahub123 
 </msg>
<msg timestamp="20200813 17:13:46.371" level="INFO">POST Response : url=http://demo202.test.com:8070/leapid-admin/api/v1/login 
 status=200, reason=OK 
 body={"data":{"address":"","created":1595916142500,"department":"","email":"","hashing":"sha","id":23,"password":"hEDFHM52nWNRhacXlMDPfx0uQe4~","phone":"","project2Group":{"47":"p47_g45"},"project2Pools":{"47":{"impala":"default","spark":"default","yarn":"default"}},"project2ProxyUser":{"47":"p47_u23_datahub"},"realname":"林文","roles":"leapid.admin","state":0,"strength":30,"username":"datahub"},"msg":"","result":0} 
 </msg>
<msg timestamp="20200813 17:13:46.371" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200813 17:13:45.980" endtime="20200813 17:13:46.371"></status>
</kw>
<tags>
<tag>test</tag>
</tags>
<status status="PASS" starttime="20200813 17:13:45.970" endtime="20200813 17:13:46.372" critical="yes"></status>
</test>
<test id="s1-s1-s1-t2" name="002-获取项目id">
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>/datahub/leapid/projects</arg>
</arguments>
<assign>
<var>${test_uri}</var>
</assign>
<msg timestamp="20200813 17:13:46.376" level="INFO">${test_uri} = /datahub/leapid/projects</msg>
<status status="PASS" starttime="20200813 17:13:46.376" endtime="20200813 17:13:46.376"></status>
</kw>
<kw name="Get Request" library="RequestsLibrary">
<doc>Send a GET request on the session object found using the
given `alias`</doc>
<arguments>
<arg>api</arg>
<arg>${test_uri}</arg>
</arguments>
<assign>
<var>${response}</var>
</assign>
<msg timestamp="20200813 17:13:46.732" level="INFO">GET Request : url=http://demo202.test.com:8070/datahub/leapid/projects 
 path_url=/datahub/leapid/projects 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': '_lpt_=faff0a355bb340dcbdd9757b71c4ed6b; _sid_=faff0a355bb340dcbdd9757b71c4ed6b'} 
 body=None 
 </msg>
<msg timestamp="20200813 17:13:46.733" level="INFO">GET Response : url=http://demo202.test.com:8070/datahub/leapid/projects 
 status=200, reason=OK 
 body={"code":200,"model":{"47":{"id":47,"name":"datahub-项目一","description":"","dbs":"datahub03,datahub01,datahub02","creator":"leapadmin","created":1595916900558,"yarnPool":"default","sparkPool":"default","impalaPool":"default","memberCount":0,"proxyUser":"p47_u23_datahub"}}} 
 </msg>
<msg timestamp="20200813 17:13:46.733" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200813 17:13:46.377" endtime="20200813 17:13:46.733"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${response.status_code}</arg>
</arguments>
<assign>
<var>${status_code}</var>
</assign>
<msg timestamp="20200813 17:13:46.734" level="INFO">${status_code} = 200</msg>
<status status="PASS" starttime="20200813 17:13:46.734" endtime="20200813 17:13:46.734"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${response.text}</arg>
</arguments>
<assign>
<var>${text}</var>
</assign>
<msg timestamp="20200813 17:13:46.735" level="INFO">${text} = {"code":200,"model":{"47":{"id":47,"name":"datahub-项目一","description":"","dbs":"datahub03,datahub01,datahub02","creator":"leapadmin","created":1595916900558,"yarnPool":"default","sparkPool":"default",...</msg>
<status status="PASS" starttime="20200813 17:13:46.735" endtime="20200813 17:13:46.736"></status>
</kw>
<kw name="Get Json Value" library="HttpLibrary.HTTP">
<doc>Get the target node of the JSON document `json_string` specified by `json_pointer`.</doc>
<arguments>
<arg>${text}</arg>
<arg>/model</arg>
</arguments>
<assign>
<var>${model}</var>
</assign>
<msg timestamp="20200813 17:13:46.737" level="INFO">${model} = {"47": {"id": 47, "name": "datahub-项目一", "description": "", "dbs": "datahub03,datahub01,datahub02", "creator": "leapadmin", "created": 1595916900558, "yarnPool": "default", "sparkPool": "default", "im...</msg>
<status status="PASS" starttime="20200813 17:13:46.736" endtime="20200813 17:13:46.737"></status>
</kw>
<kw name="To Json" library="RequestsLibrary">
<doc>Convert a string to a JSON object</doc>
<arguments>
<arg>${model}</arg>
</arguments>
<assign>
<var>${model}</var>
</assign>
<msg timestamp="20200813 17:13:46.739" level="INFO">To JSON using : content={"47": {"id": 47, "name": "datahub-项目一", "description": "", "dbs": "datahub03,datahub01,datahub02", "creator": "leapadmin", "created": 1595916900558, "yarnPool": "default", "sparkPool": "default", "impalaPool": "default", "memberCount": 0, "proxyUser": "p47_u23_datahub"}} </msg>
<msg timestamp="20200813 17:13:46.739" level="INFO">To JSON using : pretty_print=False </msg>
<msg timestamp="20200813 17:13:46.739" level="INFO">${model} = {'47': {'id': 47, 'name': 'datahub-项目一', 'description': '', 'dbs': 'datahub03,datahub01,datahub02', 'creator': 'leapadmin', 'created': 1595916900558, 'yarnPool': 'default', 'sparkPool': 'default', 'im...</msg>
<status status="PASS" starttime="20200813 17:13:46.738" endtime="20200813 17:13:46.739"></status>
</kw>
<kw name="Get Dictionary Keys" library="Collections">
<doc>Returns keys of the given ``dictionary`` as a list.</doc>
<arguments>
<arg>${model}</arg>
</arguments>
<assign>
<var>${pids}</var>
</assign>
<msg timestamp="20200813 17:13:46.740" level="INFO">${pids} = ['47']</msg>
<status status="PASS" starttime="20200813 17:13:46.740" endtime="20200813 17:13:46.740"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${pids}</arg>
</arguments>
<assign>
<var>${GLOBAL_PIDS}</var>
</assign>
<msg timestamp="20200813 17:13:46.742" level="INFO">${GLOBAL_PIDS} = ['47']</msg>
<status status="PASS" starttime="20200813 17:13:46.742" endtime="20200813 17:13:46.742"></status>
</kw>
<kw name="Comment" library="BuiltIn">
<doc>Displays the given messages in the log file as keyword arguments.</doc>
<arguments>
<arg>${GLOBAL_PIDS}</arg>
<arg>Evaluate</arg>
<arg>list(map(int,${pids}))</arg>
</arguments>
<status status="PASS" starttime="20200813 17:13:46.743" endtime="20200813 17:13:46.743"></status>
</kw>
<kw name="Set Global Variable" library="BuiltIn">
<doc>Makes a variable available globally in all tests and suites.</doc>
<arguments>
<arg>${GLOBAL_PIDS}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.745" level="INFO">${GLOBAL_PIDS} = ['47']</msg>
<status status="PASS" starttime="20200813 17:13:46.744" endtime="20200813 17:13:46.745"></status>
</kw>
<tags>
<tag>test</tag>
</tags>
<status status="PASS" starttime="20200813 17:13:46.374" endtime="20200813 17:13:46.745" critical="yes"></status>
</test>
<status status="PASS" starttime="20200813 17:13:45.560" endtime="20200813 17:13:46.749"></status>
</suite>
<suite id="s1-s1-s2" name="02-新建资源" source="D:\sqlw_test\robotframework\datahub4.0.8\测试用例\02-新建资源.robot">
<kw name="Run Keywords" library="BuiltIn" type="setup">
<doc>Executes all the given keywords in a sequence.</doc>
<arguments>
<arg>Kw Get Current Day</arg>
<arg>AND</arg>
<arg>Data For Add Res</arg>
</arguments>
<kw name="Kw Get Current Day" library="通用模块">
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<assign>
<var>${date}</var>
</assign>
<msg timestamp="20200813 17:13:46.782" level="INFO">${date} = 2020-08-13 17:13:46.782</msg>
<status status="PASS" starttime="20200813 17:13:46.782" endtime="20200813 17:13:46.782"></status>
</kw>
<kw name="Get Substring" library="String">
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<arguments>
<arg>${date}</arg>
<arg>0</arg>
<arg>-4</arg>
</arguments>
<assign>
<var>${current_date}</var>
</assign>
<msg timestamp="20200813 17:13:46.783" level="INFO">${current_date} = 2020-08-13 17:13:46</msg>
<status status="PASS" starttime="20200813 17:13:46.782" endtime="20200813 17:13:46.783"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${current_date}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.783" level="INFO">${current_date} = 2020-08-13 17:13:46</msg>
<status status="PASS" starttime="20200813 17:13:46.783" endtime="20200813 17:13:46.783"></status>
</kw>
<status status="PASS" starttime="20200813 17:13:46.782" endtime="20200813 17:13:46.784"></status>
</kw>
<kw name="Data For Add Res" library="数据模块">
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=3306</arg>
<arg>url=jdbc:mysql://172.17.202.145:3306</arg>
<arg>user=datahub</arg>
<arg>password=datahub</arg>
<arg>params=[]</arg>
<arg>otherParams={}</arg>
</arguments>
<assign>
<var>${mysqlParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.785" level="INFO">${mysqlParams} = {'host': '172.17.202.145', 'port': '3306', 'url': 'jdbc:mysql://172.17.202.145:3306', 'user': 'datahub', 'password': 'datahub', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.784" endtime="20200813 17:13:46.785"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=1521</arg>
<arg>url=jdbc:oracle:thin:@//172.17.202.145:1521</arg>
<arg>user=lenovo</arg>
<arg>password=123456</arg>
<arg>params=[{"name":"sid","value":"ora11","extend":false}]</arg>
<arg>otherParams={"sid":"ora11"}</arg>
</arguments>
<assign>
<var>${oracleParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.786" level="INFO">${oracleParams} = {'host': '172.17.202.145', 'port': '1521', 'url': 'jdbc:oracle:thin:@//172.17.202.145:1521', 'user': 'lenovo', 'password': '123456', 'params': '[{"name":"sid","value":"ora11","extend":false}]', 'other...</msg>
<status status="PASS" starttime="20200813 17:13:46.785" endtime="20200813 17:13:46.786"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.239</arg>
<arg>port=1433</arg>
<arg>url=jdbc:sqlserver://172.17.202.239:1433</arg>
<arg>user=sa</arg>
<arg>password=leap@123</arg>
<arg>params=[]</arg>
<arg>otherParams={}</arg>
</arguments>
<assign>
<var>${sqlserverParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.786" level="INFO">${sqlserverParams} = {'host': '172.17.202.239', 'port': '1433', 'url': 'jdbc:sqlserver://172.17.202.239:1433', 'user': 'sa', 'password': 'leap@123', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.786" endtime="20200813 17:13:46.786"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=50000</arg>
<arg>url=jdbc:db2://172.17.202.145:50000</arg>
<arg>user=dbtowuo</arg>
<arg>password=Lenovo@2017</arg>
<arg>params=[{"name":"sid","value":"lenovo","extend":false}]</arg>
<arg>otherParams={"sid":"lenovo"}</arg>
</arguments>
<assign>
<var>${db2Params}</var>
</assign>
<msg timestamp="20200813 17:13:46.789" level="INFO">${db2Params} = {'host': '172.17.202.145', 'port': '50000', 'url': 'jdbc:db2://172.17.202.145:50000', 'user': 'dbtowuo', 'password': 'Lenovo@2017', 'params': '[{"name":"sid","value":"lenovo","extend":false}]', 'other...</msg>
<status status="PASS" starttime="20200813 17:13:46.786" endtime="20200813 17:13:46.789"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=5432</arg>
<arg>url=jdbc:postgresql://172.17.202.145:5432</arg>
<arg>user=lenovo2</arg>
<arg>password=Lenovo@2017</arg>
<arg>params=[]</arg>
<arg>otherParams={}</arg>
</arguments>
<assign>
<var>${postgresqlParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.791" level="INFO">${postgresqlParams} = {'host': '172.17.202.145', 'port': '5432', 'url': 'jdbc:postgresql://172.17.202.145:5432', 'user': 'lenovo2', 'password': 'Lenovo@2017', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.790" endtime="20200813 17:13:46.791"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=21</arg>
<arg>url=ftp://172.17.202.145:21</arg>
<arg>user=datahub</arg>
<arg>password=datahub</arg>
<arg>params=[{"name":"protocol","value":"FTP","extend":false}]</arg>
<arg>otherParams={"protocol":"FTP"}</arg>
</arguments>
<assign>
<var>${ftpParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.792" level="INFO">${ftpParams} = {'host': '172.17.202.145', 'port': '21', 'url': 'ftp://172.17.202.145:21', 'user': 'datahub', 'password': 'datahub', 'params': '[{"name":"protocol","value":"FTP","extend":false}]', 'otherParams': '{"p...</msg>
<status status="PASS" starttime="20200813 17:13:46.791" endtime="20200813 17:13:46.792"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=172.17.202.145</arg>
<arg>port=22</arg>
<arg>url=ftp://172.17.202.145:22</arg>
<arg>user=datahub</arg>
<arg>password=datahub</arg>
<arg>params=[{"name":"protocol","value":"SFTP","extend":false}]</arg>
<arg>otherParams={"protocol":"SFTP"}</arg>
</arguments>
<assign>
<var>${sftpParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.793" level="INFO">${sftpParams} = {'host': '172.17.202.145', 'port': '22', 'url': 'ftp://172.17.202.145:22', 'user': 'datahub', 'password': 'datahub', 'params': '[{"name":"protocol","value":"SFTP","extend":false}]', 'otherParams': '{"...</msg>
<status status="PASS" starttime="20200813 17:13:46.792" endtime="20200813 17:13:46.793"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>params=[{"name":"secretKey","value":"jK4m+JaNHft4HKCO7EqSl1lMAq5CkSwoDtoOrgAj","extend":false},{"name":"region","value":"cn-north-1","extend":false},{"name":"accessKey","value":"AKIAP4MOVNBFMWGNR4IA","extend":false}]</arg>
<arg>otherParams={"secretKey":"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","region":"cn-north-1","accessKey":"AKIAP4MOVNBFMWGNR4IA"}</arg>
</arguments>
<assign>
<var>${s3Params}</var>
</assign>
<msg timestamp="20200813 17:13:46.793" level="INFO">${s3Params} = {'params': '[{"name":"secretKey","value":"jK4m+JaNHft4HKCO7EqSl1lMAq5CkSwoDtoOrgAj","extend":false},{"name":"region","value":"cn-north-1","extend":false},{"name":"accessKey","value":"AKIAP4MOVNBFMWGNR...</msg>
<status status="PASS" starttime="20200813 17:13:46.793" endtime="20200813 17:13:46.793"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${mysqlParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.794" level="INFO">${mysqlParams} = {'host': '172.17.202.145', 'port': '3306', 'url': 'jdbc:mysql://172.17.202.145:3306', 'user': 'datahub', 'password': 'datahub', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.793" endtime="20200813 17:13:46.794"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${oracleParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.794" level="INFO">${oracleParams} = {'host': '172.17.202.145', 'port': '1521', 'url': 'jdbc:oracle:thin:@//172.17.202.145:1521', 'user': 'lenovo', 'password': '123456', 'params': '[{"name":"sid","value":"ora11","extend":false}]', 'other...</msg>
<status status="PASS" starttime="20200813 17:13:46.794" endtime="20200813 17:13:46.794"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${sqlserverParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.795" level="INFO">${sqlserverParams} = {'host': '172.17.202.239', 'port': '1433', 'url': 'jdbc:sqlserver://172.17.202.239:1433', 'user': 'sa', 'password': 'leap@123', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.795" endtime="20200813 17:13:46.795"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${db2Params}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.795" level="INFO">${db2Params} = {'host': '172.17.202.145', 'port': '50000', 'url': 'jdbc:db2://172.17.202.145:50000', 'user': 'dbtowuo', 'password': 'Lenovo@2017', 'params': '[{"name":"sid","value":"lenovo","extend":false}]', 'other...</msg>
<status status="PASS" starttime="20200813 17:13:46.795" endtime="20200813 17:13:46.796"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${postgresqlParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.796" level="INFO">${postgresqlParams} = {'host': '172.17.202.145', 'port': '5432', 'url': 'jdbc:postgresql://172.17.202.145:5432', 'user': 'lenovo2', 'password': 'Lenovo@2017', 'params': '[]', 'otherParams': '{}'}</msg>
<status status="PASS" starttime="20200813 17:13:46.796" endtime="20200813 17:13:46.796"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${ftpParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.797" level="INFO">${ftpParams} = {'host': '172.17.202.145', 'port': '21', 'url': 'ftp://172.17.202.145:21', 'user': 'datahub', 'password': 'datahub', 'params': '[{"name":"protocol","value":"FTP","extend":false}]', 'otherParams': '{"p...</msg>
<status status="PASS" starttime="20200813 17:13:46.796" endtime="20200813 17:13:46.797"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${sftpParams}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.797" level="INFO">${sftpParams} = {'host': '172.17.202.145', 'port': '22', 'url': 'ftp://172.17.202.145:22', 'user': 'datahub', 'password': 'datahub', 'params': '[{"name":"protocol","value":"SFTP","extend":false}]', 'otherParams': '{"...</msg>
<status status="PASS" starttime="20200813 17:13:46.797" endtime="20200813 17:13:46.797"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${s3Params}</arg>
</arguments>
<msg timestamp="20200813 17:13:46.798" level="INFO">${s3Params} = {'params': '[{"name":"secretKey","value":"jK4m+JaNHft4HKCO7EqSl1lMAq5CkSwoDtoOrgAj","extend":false},{"name":"region","value":"cn-north-1","extend":false},{"name":"accessKey","value":"AKIAP4MOVNBFMWGNR...</msg>
<status status="PASS" starttime="20200813 17:13:46.798" endtime="20200813 17:13:46.798"></status>
</kw>
<status status="PASS" starttime="20200813 17:13:46.784" endtime="20200813 17:13:46.798"></status>
</kw>
<status status="PASS" starttime="20200813 17:13:46.781" endtime="20200813 17:13:46.798"></status>
</kw>
<test id="s1-s1-s2-t1" name="新建mysql资源">
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>host</arg>
</arguments>
<assign>
<var>${host}</var>
</assign>
<msg timestamp="20200813 17:13:46.802" level="INFO">${host} = 172.17.202.145</msg>
<status status="PASS" starttime="20200813 17:13:46.800" endtime="20200813 17:13:46.802"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>url</arg>
</arguments>
<assign>
<var>${url}</var>
</assign>
<msg timestamp="20200813 17:13:46.804" level="INFO">${url} = jdbc:mysql://172.17.202.145:3306</msg>
<status status="PASS" starttime="20200813 17:13:46.803" endtime="20200813 17:13:46.804"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>port</arg>
</arguments>
<assign>
<var>${port}</var>
</assign>
<msg timestamp="20200813 17:13:46.806" level="INFO">${port} = 3306</msg>
<status status="PASS" starttime="20200813 17:13:46.805" endtime="20200813 17:13:46.806"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>user</arg>
</arguments>
<assign>
<var>${user}</var>
</assign>
<msg timestamp="20200813 17:13:46.807" level="INFO">${user} = datahub</msg>
<status status="PASS" starttime="20200813 17:13:46.806" endtime="20200813 17:13:46.807"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>password</arg>
</arguments>
<assign>
<var>${password}</var>
</assign>
<msg timestamp="20200813 17:13:46.808" level="INFO">${password} = datahub</msg>
<status status="PASS" starttime="20200813 17:13:46.808" endtime="20200813 17:13:46.808"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>params</arg>
</arguments>
<assign>
<var>${params}</var>
</assign>
<msg timestamp="20200813 17:13:46.810" level="INFO">${params} = []</msg>
<status status="PASS" starttime="20200813 17:13:46.809" endtime="20200813 17:13:46.810"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${mysqlParams}</arg>
<arg>otherParams</arg>
</arguments>
<assign>
<var>${otherParams}</var>
</assign>
<msg timestamp="20200813 17:13:46.811" level="INFO">${otherParams} = {}</msg>
<status status="PASS" starttime="20200813 17:13:46.811" endtime="20200813 17:13:46.811"></status>
</kw>
<kw name="Get From Dictionary" library="Collections">
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<arguments>
<arg>${GLOBAL_RES_TYPE}</arg>
<arg>mysql</arg>
</arguments>
<assign>
<var>${resType}</var>
</assign>
<msg timestamp="20200813 17:13:46.812" level="INFO">${resType} = 38</msg>
<status status="PASS" starttime="20200813 17:13:46.812" endtime="20200813 17:13:46.812"></status>
</kw>
<kw name="Get From List" library="Collections">
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<arguments>
<arg>${GLOBAL_PIDS}</arg>
<arg>0</arg>
</arguments>
<assign>
<var>${pid}</var>
</assign>
<msg timestamp="20200813 17:13:46.814" level="INFO">${pid} = 47</msg>
<status status="PASS" starttime="20200813 17:13:46.813" endtime="20200813 17:13:46.814"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>mysql_byrf_${current_date}</arg>
</arguments>
<assign>
<var>${resName}</var>
</assign>
<msg timestamp="20200813 17:13:46.816" level="INFO">${resName} = mysql_byrf_2020-08-13 17:13:46</msg>
<status status="PASS" starttime="20200813 17:13:46.816" endtime="20200813 17:13:46.816"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>20</arg>
</arguments>
<assign>
<var>${maxConnectionSize}</var>
</assign>
<msg timestamp="20200813 17:13:46.817" level="INFO">${maxConnectionSize} = 20</msg>
<status status="PASS" starttime="20200813 17:13:46.817" endtime="20200813 17:13:46.817"></status>
</kw>
<kw name="Api Res Add" library="资源管理模块">
<doc>| Name | res add |
| Author | sunqinglinwen |
| Date | 2020-08-04 |
| Update | 2020-08-06 |
| *描述:* 资源新增
| *请求方式:*post
| *格式:* ${status_code} | ${text} | res add | 47= | 38= | mysql_byrf_2020-08-13 17:13:46= | []= | {}=| 20= | 172.17.202.145= | 3306= | jdbc:mysql://172.17.202.145:3306= | datahub= | datahub=
| *输入：*
| 47 | 项目id，必填
| 38 | 资源类型，必填
| mysql_byrf_2020-08-13 17:13:46 | 资源名，必填
| [] | 参数，必填
| {} | 其他参数，必填
| 20 | 最大连接数，必填
| 172.17.202.145 | 资源连接服务地址，非必填
| 3306 | 资源连接端口，非必填
| jdbc:mysql://172.17.202.145:3306 | 资源连接url，非必填
| datahub | 用户名，非必填
| datahub | 密码，非必填
| *输出：*
| ${status_code} | 接口返回状态码
| ${text} | 接口返回消息体，json格式
| *备注：*
| 注意新建hdfs资源和其他资源的区别
| 增加了最大连接数</doc>
<arguments>
<arg>host=${host}</arg>
<arg>url=${url}</arg>
<arg>port=${port}</arg>
<arg>user=${user}</arg>
<arg>password=${password}</arg>
<arg>resName=${resName}</arg>
<arg>pid=${pid}</arg>
<arg>resType=${resType}</arg>
<arg>maxConnectionSize=${maxConnectionSize}</arg>
<arg>params=${params}</arg>
<arg>otherParams=${otherParams}</arg>
</arguments>
<assign>
<var>${code}</var>
<var>${text}</var>
</assign>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>host=${host}</arg>
<arg>url=${url}</arg>
<arg>port=${port}</arg>
<arg>user=${user}</arg>
<arg>password=${password}</arg>
<arg>resName=${resName}</arg>
<arg>pid=${pid}</arg>
<arg>resType=${resType}</arg>
<arg>maxConnectionSize=${maxConnectionSize}</arg>
<arg>params=${params}</arg>
<arg>otherParams=${otherParams}</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200813 17:13:46.827" level="INFO">&amp;{data} = { host=172.17.202.145 | url=jdbc:mysql://172.17.202.145:3306 | port=3306 | user=datahub | password=datahub | resName=mysql_byrf_2020-08-13 17:13:46 | pid=47 | resType=38 | maxConnectionSize=20 | param...</msg>
<status status="PASS" starttime="20200813 17:13:46.826" endtime="20200813 17:13:46.827"></status>
</kw>
<kw name="Pop Key By Empty" library="deal_dictionary">
<arguments>
<arg>${data}</arg>
</arguments>
<assign>
<var>&amp;{data}</var>
</assign>
<msg timestamp="20200813 17:13:46.828" level="INFO">&amp;{data} = { host=172.17.202.145 | url=jdbc:mysql://172.17.202.145:3306 | port=3306 | user=datahub | password=datahub | resName=mysql_byrf_2020-08-13 17:13:46 | pid=47 | resType=38 | maxConnectionSize=20 | param...</msg>
<status status="PASS" starttime="20200813 17:13:46.827" endtime="20200813 17:13:46.828"></status>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<arguments>
<arg>Content-Type=application/x-www-form-urlencoded</arg>
</arguments>
<assign>
<var>${headers}</var>
</assign>
<msg timestamp="20200813 17:13:46.828" level="INFO">${headers} = {'Content-Type': 'application/x-www-form-urlencoded'}</msg>
<status status="PASS" starttime="20200813 17:13:46.828" endtime="20200813 17:13:46.828"></status>
</kw>
<kw name="Post Request" library="RequestsLibrary">
<doc>Send a POST request on the session object found using the
given `alias`</doc>
<arguments>
<arg>api</arg>
<arg>${uri_prefix}/res/add</arg>
<arg>data=${data}</arg>
<arg>headers=${headers}</arg>
</arguments>
<assign>
<var>${response}</var>
</assign>
<msg timestamp="20200813 17:13:47.129" level="INFO">POST Request : url=http://demo202.test.com:8070/datahub/res/add 
 path_url=/datahub/res/add 
 headers={'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/x-www-form-urlencoded', 'Cookie': '_lpt_=faff0a355bb340dcbdd9757b71c4ed6b; _sid_=faff0a355bb340dcbdd9757b71c4ed6b', 'Content-Length': '221'} 
 body=host=172.17.202.145&amp;url=jdbc%3Amysql%3A%2F%2F172.17.202.145%3A3306&amp;port=3306&amp;user=datahub&amp;password=datahub&amp;resName=mysql_byrf_2020-08-13+17%3A13%3A46&amp;pid=47&amp;resType=38&amp;maxConnectionSize=20&amp;params=%5B%5D&amp;otherParams=%7B%7D 
 </msg>
<msg timestamp="20200813 17:13:47.130" level="INFO">POST Response : url=http://demo202.test.com:8070/datahub/res/add 
 status=200, reason=OK 
 body={"code":200,"model":{"id":10310,"createTime":"2020-08-13T09:15:56.000+0000","updateTime":"2020-08-13T09:15:56.000+0000","pid":47,"resName":"mysql_byrf_2020-08-13 17:13:46","type":{"id":38,"groupId":1,"name":"MySQL","driver":"com.mysql.jdbc.Driver","defaultDb":"","description":"MySQL","support":true},"url":"jdbc:mysql://172.17.202.145:3306","user":"datahub","password":"datahub","host":"172.17.202.145","port":3306,"status":0,"maxConnectionSize":20,"params":[]}} 
 </msg>
<msg timestamp="20200813 17:13:47.130" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20200813 17:13:46.828" endtime="20200813 17:13:47.130"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${response.status_code}</arg>
</arguments>
<assign>
<var>${status_code}</var>
</assign>
<msg timestamp="20200813 17:13:47.131" level="INFO">${status_code} = 200</msg>
<status status="PASS" starttime="20200813 17:13:47.130" endtime="20200813 17:13:47.131"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${response.text}</arg>
</arguments>
<assign>
<var>${text}</var>
</assign>
<msg timestamp="20200813 17:13:47.131" level="INFO">${text} = {"code":200,"model":{"id":10310,"createTime":"2020-08-13T09:15:56.000+0000","updateTime":"2020-08-13T09:15:56.000+0000","pid":47,"resName":"mysql_byrf_2020-08-13 17:13:46","type":{"id":38,"groupId":1,...</msg>
<status status="PASS" starttime="20200813 17:13:47.131" endtime="20200813 17:13:47.131"></status>
</kw>
<msg timestamp="20200813 17:13:47.132" level="INFO">${code} = 200</msg>
<msg timestamp="20200813 17:13:47.132" level="INFO">${text} = {"code":200,"model":{"id":10310,"createTime":"2020-08-13T09:15:56.000+0000","updateTime":"2020-08-13T09:15:56.000+0000","pid":47,"resName":"mysql_byrf_2020-08-13 17:13:46","type":{"id":38,"groupId":1,...</msg>
<status status="PASS" starttime="20200813 17:13:46.824" endtime="20200813 17:13:47.132"></status>
</kw>
<kw name="Check Add Res Successful" library="资源管理模块">
<doc>| Name | Check Add Res Successful |
| Author | sunqinglinwen |
| Date | 2020-08-11 |
| Update | 2020-08-11 |
| *描述:* 通过资源名判断新增资源是否成功
| *请求方式:*post
| *格式:* Check Add Res Successful | 200 | {"code":200,"model":{"id":10310,"createTime":"2020-08-13T09:15:56.000+0000","updateTime":"2020-08-13T09:15:56.000+0000","pid":47,"resName":"mysql_byrf_2020-08-13 17:13:46","type":{"id":38,"groupId":1,"name":"MySQL","driver":"com.mysql.jdbc.Driver","defaultDb":"","description":"MySQL","support":true},"url":"jdbc:mysql://172.17.202.145:3306","user":"datahub","password":"datahub","host":"172.17.202.145","port":3306,"status":0,"maxConnectionSize":20,"params":[]}} | mysql_byrf_2020-08-13 17:13:46
| *输入：*
| 200 | 接口响应码，必填
| {"code":200,"model":{"id":10310,"createTime":"2020-08-13T09:15:56.000+0000","updateTime":"2020-08-13T09:15:56.000+0000","pid":47,"resName":"mysql_byrf_2020-08-13 17:13:46","type":{"id":38,"groupId":1,"name":"MySQL","driver":"com.mysql.jdbc.Driver","defaultDb":"","description":"MySQL","support":true},"url":"jdbc:mysql://172.17.202.145:3306","user":"datahub","password":"datahub","host":"172.17.202.145","port":3306,"status":0,"maxConnectionSize":20,"params":[]}} | response的text，必填
| mysql_byrf_2020-08-13 17:13:46 | 资源名，必填
| *输出：*
| 暂无
| *备注：*
| 通过对比以下三点来判断新增接口是否调用成功：
| 对比接口响应码是否为200
| 对比text里面的code是否为200
| 对比text里面是否包含资源名</doc>
<arguments>
<arg>${code}</arg>
<arg>${text}</arg>
<arg>${resName}</arg>
</arguments>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${code}</arg>
<arg>200</arg>
</arguments>
<msg timestamp="20200813 17:13:47.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200813 17:13:47.133" endtime="20200813 17:13:47.134"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${text}</arg>
<arg>200</arg>
</arguments>
<status status="PASS" starttime="20200813 17:13:47.134" endtime="20200813 17:13:47.134"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${text}</arg>
<arg>${resName}</arg>
</arguments>
<status status="PASS" starttime="20200813 17:13:47.135" endtime="20200813 17:13:47.135"></status>
</kw>
<status status="PASS" starttime="20200813 17:13:47.133" endtime="20200813 17:13:47.135"></status>
</kw>
<doc>| Name | 新建mysql资源 |
| Author | sunqinglinwen |
| Date | 2020-08-12 |
| Update | 2020-08-12 |</doc>
<tags>
<tag>smoke</tag>
<tag>test</tag>
</tags>
<status status="PASS" starttime="20200813 17:13:46.798" endtime="20200813 17:13:47.136" critical="yes"></status>
</test>
<doc>该模块主要为了模拟新建资源的操作，包含以下接口的测试用例
| 接口名称 | 接口地址 |
| 新建资源 | /res/add |
| 资源列表 | /res/list |
| 资源系统参数 | /res/params |
| 获取s3的regions | /common/select/regions |

</doc>
<status status="PASS" starttime="20200813 17:13:46.756" endtime="20200813 17:13:47.140"></status>
</suite>
<status status="PASS" starttime="20200813 17:13:45.555" endtime="20200813 17:13:47.151"></status>
</suite>
<status status="PASS" starttime="20200813 17:13:45.518" endtime="20200813 17:13:47.158"></status>
</suite>
<statistics>
<total>
<stat pass="3" fail="0">Critical Tests</stat>
<stat pass="3" fail="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0">smoke</stat>
<stat pass="3" fail="0">test</stat>
</tag>
<suite>
<stat pass="3" fail="0" id="s1" name="Datahub4.0.8">Datahub4.0.8</stat>
<stat pass="3" fail="0" id="s1-s1" name="测试用例">Datahub4.0.8.测试用例</stat>
<stat pass="2" fail="0" id="s1-s1-s1" name="01-登录">Datahub4.0.8.测试用例.01-登录</stat>
<stat pass="1" fail="0" id="s1-s1-s2" name="02-新建资源">Datahub4.0.8.测试用例.02-新建资源</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
